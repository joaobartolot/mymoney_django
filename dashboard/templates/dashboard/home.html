{% extends 'base.html' %}
{% load static %}
{% load util %}

{% block content %}

{% if accounts %}

<!-- Slide cards -->
<div class='row d-flex align-items-center'>
    <div class="col-1">
        <button class='btn' id="leftArrow">
            <img src="{% static 'icons/left-arrow.png' %}" width="16px" height="30px">
        </button>
    </div>
    <div class="glide mt-3 col-10">
        <div class="glide__track" data-glide-el="track">
            <ul class="glide__slides">
                {% for account in accounts %}
                <li class="glide__slide">
                    {% if account.bank_name == 'SA' %}
                    <a href="#">
                        <img src="{% static 'images/cards/santanderCard.png' %}" width='90%' id='card-img'
                            alt='santanderCard' data-pk='{{ account.pk }}'>
                    </a>
                    {% elif account.bank_name == 'NU' %}
                    <a href="#">
                        <img src="{% static 'images/cards/nuCard.png' %}" width='90%' id='card-img' alt='nuCard'
                            data-pk='{{ account.pk }}'>
                    </a>
                    {% elif account.bank_name == 'MV' %}
                    <a href="#">
                        <img src="{% static 'images/cards/ticketCard.png' %}" width='90%' id='card-img' alt='ticketCard'
                            data-pk='{{ account.pk }}'>
                    </a>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <div class="col-1">
        <button class='btn' id="rightArrow">
            <img src="{% static 'icons/right-arrow.png' %}" width="16px" height="30px">
        </button>
    </div>
</div>
<!-- End of the slides -->


<!-- Accounts informations -->
{% for account in accounts %}

<div class="account_info mt-4" data-pk='{{ account.pk }}'>
    <div class='row justify-content-between'>
        <div class='col-md-8 product-list-group'>
            {% for product in products %}
            {% if product.account.pk == account.pk %}
            <div class='product-list-item'>
                <div class='item-info'>
                    <h5 class='info-label'>Name</h5>
                    <h6>
                        {{ product.name }}
                    </h6>
                </div>

                <div class='item-info'>
                    <h5 class='info-label'>Price</h5>
                    <h6>
                        R$ {{ product.price|slice:':-2' }},{{ product.price|slice:'-2:' }}
                    </h6>
                </div>

                <div class='item-info'>
                    <h5 class='info-label'>Account</h5>
                    <h6>
                        {{ product.account.account_type }}
                    </h6>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>

        <div class="col-md-3 info-container">
            <div class='info-header'>
                <h4>
                    Account Info
                </h4>
            </div>
            <div class='info-body'>
                <div class='info-element'>
                    <h5 class='info-label'>Balance</h5>
                    <h6 class='info-component'>
                        R$
                        {{ account.balance|to_str|slice:":-2" }},{{ account.balance|to_str|slice:"-2:" }}
                    </h6>
                </div>
                <div class='info-element'>
                    <h5 class='info-label'>Name</h5>
                    <h6 class='info-component'>
                        {{ account.name }}
                    </h6>
                </div>
            </div>
        </div>

    </div>
</div>

<!--
<section class="content account_info mt-3" data-pk='{{ account.pk }}'>
    <div class='row justify-content-between'>
        <div class="col-md-8 product-list-group">
            {% for product in products %}
            {% if product.account.pk == account.pk %}
            <div class="product-list-item">
                <div class="item-info">
                    <h5 class='info-label'>Product Name:</h5>
                    <h7>{{ product.name }}</h7>
                </div>
                <div class='product-list-item'>
                    <h5 class='info-label'>Price:</h5>
                    <h7>
                        R$
                        {{ product.price|to_str|slice:":-2" }},{{ product.price|to_str|slice:"-2:" }}
                    </h7>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        <div class='col-md-3 w-50 p-2'>
            <h4 class='border-bottom mb-3 d-flex justify-content-between align-items-center' id='toggler'>
                Account info
                <button class="btn btn-outline-light" id='toggler'>
                    <i class="fa fa-caret-down text-dark" id='caretIcon' aria-hidden="true"></i>
                </button>
            </h4>
            <div class="mb-3">
                <h5 class='info-label'>Balance</h5>
                <h6 class="ml-5">
                    R$
                    {{ account.balance|to_str|slice:":-2" }},{{ account.balance|to_str|slice:"-2:" }}
                </h6>
            </div>
            <div class="mb-3 div-collapse-sm" id='infoCollapse'>
                <h5 class='info-label'>Account name</h5>
                <h6 class='ml-5'>
                    {{ account.name }}
                </h6>
            </div>
        </div>
</section>
-->
{% endfor %}

<!-- Main js for home -->
<script src="{% static 'js/main_home.js' %}"></script>
{% else %}
<div class="row d-flex justify-content-center">
    <h3><strong class="col-3">You don't Have any account</strong></h3>
</div>

{% endif %}
{% endblock content %}